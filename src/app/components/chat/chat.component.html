<div class="chat">
  <ul class="chat__messages">
    <li class="chat__message" *ngFor="let msg of messages$ | async">
      <div [ngClass]="msg.type" class="chat__message--text">
        {{ msg.userEmail + ": " + msg.message }}
      </div>
      <div
        *ngIf="
          msg.type == 'chatMessage' &&
          msg.userEmail === (apiService.email$ | async)
        "
        class="chat__buttonsContainer"
      >
        <mat-icon
          class="chat__messageButton chat__editButton"
          (click)="editMessage(msg)"
          >edit</mat-icon
        >
        <mat-icon
          class="chat__messageButton chat__deleteButton"
          (click)="deleteMessage(msg.id)"
          >delete_sweep</mat-icon
        >
      </div>
    </li>
  </ul>
  <div class="chat__inputWrapper">
    <input
      #input
      [(ngModel)]="message"
      placeholder="Enter Message"
      class="chat__input"
    />
    <button (click)="sendMessage()" class="chat__button">Send</button>
  </div>
</div>
